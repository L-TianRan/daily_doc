# gdb使用合集

## 简单命令
`b`、`c`、`s`、`n`、`k`、`l`
```
(gdb) ptype [变量名]
```

## 多线程调试
```
1、运行多线程程序

2、使用htop，利用F4过滤以及F5树状图模式，找到自己想要查看的线程

3、运行gdb（不带参数），attach目标线程的pid，set scheduler-locking on设置为all-stop模式，
然后continue，之后触发断点或者Ctrl+C停下来时所有线程全部暂停，便于查看系统快照
```

## 按格式输出
```
    x 按十六进制格式显示变量。
    d 按十进制格式显示变量。
    u 按十六进制格式显示无符号整型。
    o 按八进制格式显示变量。
    t 按二进制格式显示变量。
    a 按十六进制格式显示变量。
    c 按字符格式显示变量。
    f 按浮点数格式显示变量。
    
```
```
$(gdb) p/x str
```
## 调用已定义的函数
只返回结果，函数中的printf什么的不会输出到屏幕。
```
$(gdb) call func(arg)
```

## 栈帧上下移动
```
$(gdb) down
$(gdb) up
```
## 切换线程
```(gdb)$ thread [id]```
